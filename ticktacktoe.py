import time
#–∏–º–ø–æ—Ä—Ç–∏—Ä—É—é –≤—Ä–µ–º—è
# ASCII-–∞—Ä—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
print(r"""
  _______ _   ___      _______     __      _  __  __ _ 
 |__   __(_) | \ \    / / ____|   / /     | |/ / | | |
    | |   _  | |\ \  / / (___    / /  __ _| ' /  | | |
    | |  | | | | \ \/ / \___ \  / /  / _` |  <   | | |
    | |  | | | |  \  /  ____) |/ /__| (_| | . \  |_|_|
    |_|  |_| |_|   \/  |_____/ \____/\__,_|_|\_\ (_|_)
""")

# –°–æ–∑–¥–∞–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
field = [[" - "]*3 for _ in range(3)]

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
def print_field():
    for row in field:
        print("".join(row))

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
def check_win():
    win_options = (
        ((0, 0), (0, 1), (0, 2)), ((1, 0), (1, 1), (1, 2)), ((2, 0), (2, 1), (2, 2)),  # –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
        ((0, 0), (1, 0), (2, 0)), ((0, 1), (1, 1), (2, 1)), ((0, 2), (1, 2), (2, 2)),  # –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
        ((0, 0), (1, 1), (2, 2)), ((0, 2), (1, 1), (2, 0)),  # –¥–∏–∞–≥–æ–Ω–∞–ª–∏
    )
    for win in win_options:
        win_symbols = [field[x][y] for x, y in win]
        if win_symbols == [" X ", " X ", " X "]:
            print_field()
            print("üéâ –ü–æ–±–µ–¥–∞! –í—ã–∏–≥—Ä–∞–ª –∫—Ä–µ—Å—Ç–∏–∫! (X)")
            return True
        if win_symbols == [" 0 ", " 0 ", " 0 "]:
            print_field()
            print("üéâ –ü–æ–±–µ–¥–∞! –í—ã–∏–≥—Ä–∞–ª –Ω–æ–ª–∏–∫! (0)")
            return True
    return False

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ö–æ–¥–∞ –∏–≥—Ä–æ–∫–∞
def move_player(player_symbol):
    while True:
        move = input(f"–£–∫–∞–∂–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ x,y ({player_symbol}): ").strip()
        if ',' not in move or len(move.split(',')) != 2:
            print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥! –£–∫–∞–∂–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ x,y, –≥–¥–µ x –∏ y ‚Äî —á–∏—Å–ª–∞ –æ—Ç 0 –¥–æ 2.")
            continue

        row, col = move.split(',')
        if not (row.isdigit() and col.isdigit()):
            print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥! –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Å–ª–∞–º–∏.")
            continue

        row, col = int(row), int(col)
        if not (0 <= row <= 2 and 0 <= col <= 2):
            print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥! –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 0 –¥–æ 2.")
            continue

        if field[row][col] == ' - ':
            field[row][col] = f" {player_symbol} "
            print_field()
            break
        else:
            print("‚ùå –≠—Ç–∞ –∫–ª–µ—Ç–∫–∞ —É–∂–µ –∑–∞–Ω—è—Ç–∞! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")

# –û—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
def game():
    print("üéÆ –ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É!")
    print_field()
    for turn in range(9):
        if turn % 2 == 0:
            print("üîµ –•–æ–¥ –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ (X):")
            move_player("X")
        else:
            print("üü† –•–æ–¥ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞ (0):")
            move_player("0")

        if check_win():
            print("üèÜ –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
            return

    print("ü§ù –ù–∏—á—å—è! –ü–æ–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ.")

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –∏–≥—Ä–µ
def prepare():
    ask1 = input("–í—ã –≥–æ—Ç–æ–≤—ã –∫ –∏–≥—Ä–µ? (y = –¥–∞, n = –Ω–µ—Ç): ").strip().lower()
    if ask1 == 'y':
        time.sleep(1)
        game()
    else:
        print("üëã –î–æ –≤—Å—Ç—Ä–µ—á–∏!")

prepare()

